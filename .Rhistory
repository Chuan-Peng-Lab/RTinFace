View(region)
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4))
unique(region)
unique(fulldata$country)
it)
unique(fulldata$trait)
unique(fulldata$country)
unique(region)
data <- read_csv("https://ndownloader.figshare.com/files/8542045")
View(data)
regions <- read_csv("data/regions.csv")
View(regions)
fulldata <- read.csv("data/rt_tidy.csv")
regions <- read.csv("data/regions.csv")
fulldata %>%
select(country) %>%
left_join(region, by = country)
fulldata %>%
select(country) %>%
left_join(region, by = "country")
region <- fulldata %>%
select(country) %>%
left_join(region, by = "country")
region <- fulldata %>%
select(country)
region <- fulldata %>%
select(country) %>%
left_join(regions, by = "country")
View(region)
regions <- read_csv("data/regions.csv")
View(regions)
session <- read_csv("data/psa001_session_subset.csv")
dat_quest <- read_csv("data/psa001_quest_data_subset.csv")
dat_exp <- read_csv("data/psa001_exp_data_subset.csv")
# reshape questionnaire data to make wide
quest <- dat_quest %>%
select(session_id, endtime, user_id, q_name, dv) %>%
group_by(session_id, user_id, q_name) %>%
arrange(endtime) %>%
filter(row_number() == 1) %>%
ungroup() %>%
spread(q_name, dv, convert = TRUE)
ratings_raw <-  dat_exp %>%
left_join(session, by = c("user_id", "session_id")) %>%
filter(user_status %in% c("guest", "registered")) %>%
separate(exp_name, c("psa", "language", "trait", "block"),
sep = "_") %>%
select(-psa) %>%
separate(proj_name, c("psa", "lang", "lab1", "lab2"),
sep = "_", fill = "right") %>%
filter(lab1 != "test") %>%
unite(lab_id, c("lab1", "lab2")) %>%
select(-psa, lang) %>%
left_join(quest, by = c("session_id", "user_id")) %>%
select(language, user_id = session_id, trait,
stim_id = trial_name,
order, rt, rating = dv,
country, sex, age, ethnicity, lab = lab_id, block) %>%
mutate(trait = recode(trait,
"Res" = "responsible",
"Wei" = "weird",
"Old" = "old",
"Tru" = "trustworthy",
"Dom" = "dominant",
"Emo" = "emostable",
"Agg" = "aggressive",
"Car" = "caring",
"Int" = "intelligent",
"Unh" = "unhappy",
"Soc" = "sociable",
"Mea" = "mean",
"Con" = "confident",
"Att" = "attractive"
))
View(dat_exp)
View(dat_quest)
View(data)
View(region)
View(quest)
View(regions)
View(region)
ratings_raw <-  dat_exp %>%
left_join(session, by = c("user_id", "session_id")) %>%
filter(user_status %in% c("guest", "registered")) %>%
separate(exp_name, c("psa", "language", "trait", "block"),
sep = "_") %>%
select(-psa) %>%
separate(proj_name, c("psa", "lang", "lab1", "lab2"),
sep = "_", fill = "right") %>%
filter(lab1 != "test") %>%
unite(lab_id, c("lab1", "lab2")) %>%
select(-psa, lang) %>%
left_join(quest, by = c("session_id", "user_id")) %>%
select(language, user_id = session_id, trait,
stim_id = trial_name,
order, rt, rating = dv,
country, sex, age, ethnicity, lab = lab_id, block) %>%
mutate(trait = recode(trait,
"Res" = "responsible",
"Wei" = "weird",
"Old" = "old",
"Tru" = "trustworthy",
"Dom" = "dominant",
"Emo" = "emostable",
"Agg" = "aggressive",
"Car" = "caring",
"Int" = "intelligent",
"Unh" = "unhappy",
"Soc" = "sociable",
"Mea" = "mean",
"Con" = "confident",
"Att" = "attractive"
))
View(ratings_raw)
regions <- read_csv("data/regions.csv")
View(regions)
ratings <- ratings_raw %>%
rename(qcountry = country) %>%
separate(lab, c("country", "lab")) %>%
left_join(regions, by = "country") %>%
filter(trait != "old")
View(ratings)
View(ratings_raw)
View(regions)
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4))
View(region)
unique(region)
fulldata <- read.csv("data/rt_tidy.csv")
regions <- read.csv("data/regions.csv")
region <- fulldata %>%
select(lab, country) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
left_join(regions, by = country)
region <- fulldata %>%
select(lab, country) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
left_join(regions, by = "country")
View(region)
View(regions)
region <- fulldata %>%
select(lab, country) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
left_join(regions, by = "country")
View(regions)
View(region)
unique(region$region)
region <- fulldata %>%
select(lab, country) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
left_join(regions, by = "country") %>%
group_by(country) %>%
summarise(n())
View(region)
region <- fulldata %>%
select(lab, country) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
left_join(regions, by = "country") %>%
group_by(country) %>%
summarise(n()) %>%
ungroup()
View(region)
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
summarise(n()) %>%
ungroup() %>%
left_join(regions, by = "country")
View(region)
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
summarise() %>%
ungroup() %>%
left_join(regions, by = "country")
View(region)
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
summarise(n(name = "1")) %>%
ungroup() %>%
left_join(regions, by = "country")
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
summarise(count()) %>%
ungroup() %>%
left_join(regions, by = "country")
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count() %>%
ungroup() %>%
left_join(regions, by = "country")
View(region)
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = number) %>%
ungroup() %>%
left_join(regions, by = "country")
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country")
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar(stat = "identity", position = "stack") +
labs(title = "Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
#geom_bar(stat = "identity", position = "stack") +
labs(title = "Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar() +
labs(title = "Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar(stat = "identity") +
labs(title = "Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar(stat = "identity", position = "stack") +
labs(title = "Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(y = number, x = region, fill = country)) +
geom_bar(stat = "identity", position = "stack") +
labs(title = "Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar(stat = "identity", position = "stack") +
labs(title = "Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar(stat = "identity", position = "stack") +
labs(title = "Fig.1 Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar(stat = "identity", position = "stack") +
labs(title = "Fig.1 Participant Demographics", x = "Count", y = "Region", tag = "1") +
theme_minimal()
region
region <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
group_by(country) %>%
count(name = "number") %>%
ungroup() %>%
left_join(regions, by = "country") %>%
ggplot(., aes(x = number, y = region, fill = country)) +
geom_bar(stat = "identity", position = "stack") +
labs(title = "Fig.1 Participant Demographics", x = "Count", y = "Region") +
theme_minimal()
region
fulldata %>%
mutate(rating = as.numeric(rating)) %>%
mutate(trait = as.factor(trait)) %>%
ggplot(aes(x=rating,color = trait, fill = trait))+
facet_wrap(~trait, 2)+
geom_bar()+
theme_classic()+
ggtitle("Figure 2. Density plot for rating distribution across different traits")
if(!requireNamespace("tinytex", quietly = TRUE)) install.packages("tinytex")
install.packages("papaja")
tinytex::install_tinytex()
pacman::p_load(tidyverse, bruceR)
data <- read.csv("./data/rt_tidy.csv")
View(data)
rownames(data)
colnames(data)
View(data)
data %>%
select(trait, rt, rating, sex, age, ethnicity.x, ethnicity.y, Race, Gender, Age) %>%
bruceR::Corr()
data %>%
select(trait, rt, rating, sex, age, ethnicity.x, ethnicity.y, Race, Gender, Age) %>%
na.omit() %>%
bruceR::Corr()
pacman::p_load(tidyverse, bruceR, DataExplorer)
data %>%
select(trait, rt, rating, sex, age, ethnicity.x, ethnicity.y, Race, Gender, Age) %>%
na.omit() %>%
DataExplorer::plot_correlation()
data %>%
select(rt, rating, age, Age) %>%
na.omit() %>%
bruceR::Corr()
data <-
ggplot(aes(x = rt))+
geom_density()
data %>%
ggplot(aes(x = rt))+
geom_density()
data %>%
select(rt, rating, age, Age, log_rt) %>%
na.omit() %>%
bruceR::Corr()
data %>%
select(rt, rating, age, Age, log_rt) %>%
filter(trait == "unhappy")
data %>%
select(rt, rating, age, Age, log_rt) %>%
dplyr::filter(trait == "unhappy")
data %>%
select(trait, rt, rating, age, Age, log_rt) %>%
filter(trait == "unhappy")
na.omit() %>%
bruceR::Corr()
data %>%
select(trait, rt, rating, age, Age, log_rt) %>%
filter(trait == "unhappy") %>%
na.omit() %>%
bruceR::Corr()
data %>%
select(trait, rt, rating, age, Age, log_rt) %>%
filter(trait == "	attractive") %>%
na.omit() %>%
bruceR::Corr()
data %>%
select(trait, rt, rating, age, Age, log_rt) %>%
filter(trait == "	attractive") %>%
na.omit() %>%
bruceR::Corr()
data %>%
select(trait, rt, rating, age, Age, log_rt) %>%
filter(trait == "attractive") %>%
na.omit() %>%
bruceR::Corr()
library("tidyverse")
fulldata <- read.csv("data/rt_tidy.csv")
regions <- read.csv("data/regions.csv")
View(regions)
View(fulldata)
fulldata <- fulldata %>%
select(lab) %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
left_join(regions, by = "country")
View(fulldata)
fulldata <- read.csv("data/rt_tidy.csv")
regions <- read.csv("data/regions.csv")
fulldata <- fulldata %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
left_join(regions, by = "country")
View(fulldata)
data_region <- fulldata %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
left_join(regions, by = "country")
fulldata %>%
mutate(rating = as.numeric(rating)) %>%
mutate(trait = as.factor(trait)) %>%
ggplot(aes(x=rating,color = trait, fill = trait))+
facet_wrap(~trait, 2)+
geom_bar()+
theme_classic()+
ggtitle("Figure 2. Density plot for rating distribution across different traits")
fulldata %>%
mutate(rating = as.numeric(rating)) %>%
mutate(trait = as.factor(trait)) %>%
ggplot(aes(x=rt,color = trait, fill = trait))+
facet_wrap(~trait, 2)+
geom_bar()+
theme_classic()+
ggtitle("Figure 2. Density plot for rating distribution across different traits")
fulldata %>%
mutate(rating = as.numeric(rating)) %>%
mutate(trait = as.factor(trait)) %>%
ggplot(aes(x=rt,color = trait, fill = trait))+
facet_wrap(~trait, 2)+
geom_density()+
theme_classic()+
ggtitle("Figure 2. Density plot for rating distribution across different traits")
data %>%
select(trait, rt, rating, age, Age, log_rt) %>%
group_by(trait) %>%
#filter(trait == "attractive") %>%
na.omit() %>%
bruceR::Corr()
lm1 = lm(rating ~ rt + age, data = data)
lm1 = lm(rating ~ rt + age, data = data)
model_summary(lm1)
region_model <- lmer(rating ~ rt + (1 + rt | region), data = data_region)
View(data_region)
data <- read.csv("./data/rt_tidy.csv")
regions <- read.csv("data/regions.csv")
data_region <- fulldata %>%
mutate(lab  = substr(lab,1,nchar(lab)-4)) %>%
mutate(country = lab) %>%
left_join(regions, by = "country")
colnames(data)
View(data_region)
region_model <- lmer(rating ~ rt + (1 + rt | region.x), data = data_region)
HLM_summary(region_model)
region_model <- lmer(rating ~ rt + (1 + rt | region.x), data = data_region)
#tightness_model <- lmer(VC ~ H_Ccentered + V_Ccentered + tight_centered + H_Ccentered*tight_centered + V_Ccentered*tight_centered + (1 + H_Ccentered + V_Ccentered | province), data = hierarchy_model)
HLM_summary(region_model)
region_model <- lmer(rating ~ rt + (rt | region.x), data = data_region)
#tightness_model <- lmer(VC ~ H_Ccentered + V_Ccentered + tight_centered + H_Ccentered*tight_centered + V_Ccentered*tight_centered + (1 + H_Ccentered + V_Ccentered | province), data = hierarchy_model)
HLM_summary(region_model)
fulldata %>%
mutate(rating = as.numeric(rating)) %>%
mutate(trait = as.factor(trait)) %>%
ggplot(aes(x=rt,color = trait, fill = trait))+
facet_wrap(~trait, 2)+
geom_density()+
theme_classic()+
ggtitle("Figure 2. Density plot for reaction time distribution across different traits")
